(function(e){function t(t){for(var r,o,s=t[0],d=t[1],c=t[2],u=0,p=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&p.push(a[o][0]),a[o]=0;for(r in d)Object.prototype.hasOwnProperty.call(d,r)&&(e[r]=d[r]);l&&l(t);while(p.length)p.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,o=1;o<n.length;o++){var d=n[o];0!==a[d]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},a={index:0},i=[];function o(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-2d216214":"a631c492","chunk-2d216257":"d8c9bc89","chunk-4268cd01":"40d8996b"}[e]+".js"}function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=a[e]=[t,r]}));t.push(n[2]=r);var i,d=document.createElement("script");d.charset="utf-8",d.timeout=120,s.nc&&d.setAttribute("nonce",s.nc),d.src=o(e);var c=new Error;i=function(t){d.onerror=d.onload=null,clearTimeout(u);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+r+": "+i+")",c.name="ChunkLoadError",c.type=r,c.request=i,n[1](c)}a[e]=void 0}};var u=setTimeout((function(){i({type:"timeout",target:d})}),12e4);d.onerror=d.onload=i,document.head.appendChild(d)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/beaulieugen/",s.oe=function(e){throw console.error(e),e};var d=window["webpackJsonp"]=window["webpackJsonp"]||[],c=d.push.bind(d);d.push=t,d=d.slice();for(var u=0;u<d.length;u++)t(d[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-navbar",{attrs:{type:"dark",variant:"info"}},[n("b-navbar-brand",{attrs:{href:"#"}},[e._v("Générateur PDF de messes")])],1),n("b-container",[n("b-form-group",{attrs:{label:"Chant d'entrée","label-for":"entrance"}},[n("b-form-select",{attrs:{id:"entrance",options:e.entranceOptions},model:{value:e.entrance,callback:function(t){e.entrance=t},expression:"entrance"}})],1),n("b-form-group",{attrs:{label:"Prière universelle","label-for":"universalPrayer"}},[n("b-form-select",{attrs:{id:"universalPrayer",options:e.universalPrayerOptions},model:{value:e.universalPrayer,callback:function(t){e.universalPrayer=t},expression:"universalPrayer"}})],1),n("b-form-group",{attrs:{label:"Offertoire","label-for":"offertory"}},[n("b-form-select",{attrs:{id:"offertory",options:e.offertoryOptions},model:{value:e.offertory,callback:function(t){e.offertory=t},expression:"offertory"}})],1),n("b-form-group",{attrs:{label:"Communion","label-for":"communion"}},[n("b-form-select",{attrs:{id:"communion",options:e.communionOptions},model:{value:e.communion,callback:function(t){e.communion=t},expression:"communion"}})],1),n("b-form-group",{attrs:{label:"Envoi","label-for":"sending"}},[n("b-form-select",{attrs:{id:"sending",options:e.sendingOptions},model:{value:e.sending,callback:function(t){e.sending=t},expression:"sending"}})],1),n("b-button",{attrs:{variant:"primary"},on:{click:e.savePdf}},[e._v(" Générer le PDF ")])],1)],1)},i=[],o=n("3835"),s=n("b85c"),d=n("1da1"),c=(n("96cf"),n("ac1f"),n("1276"),n("2ca0"),n("5b81"),n("d0b9")),u=n("8f77"),l=n("1bbb"),p=n("8226"),g=n("8361"),h=n("1947"),f=n("bc3a"),m=n.n(f),v=n("8baf"),b="Kyrie eleison\nChriste eleison\nKyrie eleison",x="Seigneur prends pitié\nÔ Christ prends pitié\nSeigneur prends pitié",y="Sanctus, sanctus, sanctus Dominus Deus Sabaoth.\nPleni sunt caeli et terra gloria tua.\nHosanna in excelsis.\nBenedictus qui venit in nomine Domini.\nHosanna in excelsis.",S="Saint ! Saint ! Saint, le Seigneur, Dieu de l'univers !\nLe ciel et la terre sont remplis de ta gloire.\nHosanna au plus haut des cieux !\nBéni soit celui qui vient au nom du Seigneur.\nHosanna au plus haut des cieux !",P="Agnus Dei, qui tollis peccata mundi, miserere nobis.\nAgnus Dei, qui tollis peccata mundi, miserere nobis.\nAgnus Dei, qui tollis peccata mundi, dona nobis pacem.",O="Agneau de Dieu qui enlèves le péché du monde, prends pitié de nous.\nAgneau de Dieu qui enlèves le péché du monde, prends pitié de nous.\nAgneau de Dieu qui enlèves le péché du monde, donne-nous la paix.",T={name:"App",components:{BNavbar:c["a"],BNavbarBrand:u["a"],BContainer:l["a"],BFormGroup:p["a"],BFormSelect:g["a"],BButton:h["a"]},data:function(){return{doc:null,entrance:null,universalPrayer:null,offertory:null,communion:null,sending:null,entranceOptions:[],universalPrayerOptions:[],offertoryOptions:[],communionOptions:[],sendingOptions:[],verseNumber:0}},mounted:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="textes/",t.next=3,m.a.get(n+"entree.txt");case 3:return e.entranceOptions=t.sent.data.split(/\r?\n/),t.next=6,m.a.get(n+"priere_universelle.txt");case 6:return e.universalPrayerOptions=t.sent.data.split(/\r?\n/),t.next=9,m.a.get(n+"offertoire.txt");case 9:return e.offertoryOptions=t.sent.data.split(/\r?\n/),t.next=12,m.a.get(n+"communion.txt");case 12:return e.communionOptions=t.sent.data.split(/\r?\n/),t.next=15,m.a.get(n+"envoi.txt");case 15:e.sendingOptions=t.sent.data.split(/\r?\n/);case 16:case"end":return t.stop()}}),t)})))()},methods:{addPage:function(){var e=this.doc.internal.pageSize.getWidth(),t=this.doc.internal.pageSize.getHeight();this.doc.addPage(),this.doc.setFillColor(33,33,33),this.doc.rect(0,0,e,t,"F")},addOrdinarySong:function(e,t,n){var r=this.doc.internal.pageSize.getWidth();this.doc.setFontSize(30),this.doc.text(e,10,20),this.doc.setFontSize(20),this.doc.setFont(void 0,"italic"),this.doc.text("Latin",20,40),this.doc.text("Français",r/2+10,40),this.doc.setFont(void 0,"normal");var a=this.doc.splitTextToSize(t,r/2-30);this.doc.text(a,20,60);var i=this.doc.splitTextToSize(n,r/2-30);this.doc.text(i,r/2+10,60)},addNonOrdinarySong:function(e,t){var n=this.doc.internal.pageSize.getWidth(),r=this.doc.internal.pageSize.getHeight();this.verseNumber=1,this.doc.setFontSize(30),this.doc.text(e,10,20),this.doc.setFontSize(20);var a=this.doc.getTextDimensions("text").h;if(1==t.length){var i=this.doc.splitTextToSize(t[0],n-40);this.addParagraph(i,20,r/3)}else if(2==t.length){var o=40,s=this.doc.splitTextToSize(t[0],n-40);this.addParagraph(s,20,o);var d=o+s.length*a+20,c=this.doc.splitTextToSize(t[1],n-40);this.addParagraph(c,20,d)}else if(3==t.length){var u=40,l=this.doc.splitTextToSize(t[0],n-40);this.addParagraph(l,20,u);var p=u+l.length*a+20,g=this.doc.splitTextToSize(t[1],n-40);this.addParagraph(g,20,p);var h=p+g.length*a+20,f=this.doc.splitTextToSize(t[2],n-40);this.addParagraph(f,20,h)}else if(t.length>=4){var m=this.doc.splitTextToSize(t[0],n/2-30);this.addParagraph(m,20,40);var v=this.doc.splitTextToSize(t[1],n/2-30);this.addParagraph(v,20,r/2+10);var b=this.doc.splitTextToSize(t[2],n/2-30);this.addParagraph(b,n/2+10,40);var x=this.doc.splitTextToSize(t[3],n/2-30);this.addParagraph(x,n/2+10,r/2+10)}},addParagraph:function(e,t,n){this.doc.setFontSize(20);var r=e[0].startsWith("R.");r?(this.doc.setFont(void 0,"bold"),this.doc.text(e,t,n),this.doc.setFont(void 0,"normal")):(e[0]=this.verseNumber+". "+e[0],this.doc.text(e,t,n),this.verseNumber++)},getNonOrdinarySongs:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="textes/chants/",t.next=3,m.a.get(n+e.entrance+".txt");case 3:return r=t.sent.data.split(/\r?\n\r?\n/),t.next=6,m.a.get(n+e.offertory+".txt");case 6:return a=t.sent.data.split(/\r?\n\r?\n/),t.next=9,m.a.get(n+e.communion+".txt");case 9:return i=t.sent.data.split(/\r?\n\r?\n/),t.next=12,m.a.get(n+e.sending+".txt");case 12:return o=t.sent.data.split(/\r?\n\r?\n/),t.abrupt("return",[r,a,i,o]);case 14:case"end":return t.stop()}}),t)})))()},getNextWednesday:function(){var e=new Date;while(3!==e.getDay())e.setDate(e.getDate()+1);return e},getNextWednesdayDigits:function(){var e=this.getNextWednesday(),t=e.getFullYear(),n=e.getMonth()+1,r=e.getDate(),a=t+"-";return n<10&&(a+="0"),a+=n+"-",r<10&&(a+="0"),a+=r,a},getNextWednesdayFrench:function(){var e=["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],t=this.getNextWednesday(),n=t.getFullYear(),r=e[t.getMonth()],a=t.getDate();return"Mercredi "+a+" "+r+" "+n},getPsalmChorus:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i,o,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="https://api.aelf.org/v1/messes/"+e.getNextWednesdayDigits()+"/france",t.next=3,m.a.get(n);case 3:r=t.sent,a=r.data,i=Object(s["a"])(a.messes[0].lectures),t.prev=6,i.s();case 8:if((o=i.n()).done){t.next=14;break}if(d=o.value,"psaume"!=d.type){t.next=12;break}return t.abrupt("return",d.refrain_psalmique.replaceAll(/(<[^>]+>)/g,""));case 12:t.next=8;break;case 14:t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](6),i.e(t.t0);case 19:return t.prev=19,i.f(),t.finish(19);case 22:return t.abrupt("return",null);case 23:case"end":return t.stop()}}),t,null,[[6,16,19,22]])})))()},savePdf:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i,s,d,c,u,l,p,g,h,f,m;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getPsalmChorus();case 2:return n=t.sent,t.next=5,e.getNonOrdinarySongs();case 5:r=t.sent,a=Object(o["a"])(r,4),i=a[0],s=a[1],d=a[2],c=a[3],e.doc=new v["a"]({orientation:"l",format:"a4"}),u=e.doc.internal.pageSize.getWidth(),l=e.doc.internal.pageSize.getHeight(),e.doc.setTextColor(255,255,255),e.doc.setFillColor(33,33,33),e.doc.rect(0,0,u,l,"F"),e.doc.setFontSize(60),p="Messe du "+e.getNextWednesdayFrench(),g=e.doc.splitTextToSize(p,u-40),e.doc.text(g,u/2,l/3,{align:"center"}),e.doc.setFontSize(30),e.doc.setTextColor(171,171,171),e.doc.text("Aumônerie de Beaulieu",u/2,2*l/3,{align:"center"}),e.doc.setTextColor(255,255,255),e.addPage(),e.addNonOrdinarySong(e.entrance,i),e.addPage(),e.addPage(),e.addOrdinarySong("Kyrie",b,x),e.addPage(),e.addPage(),e.doc.setFontSize(30),h=e.doc.splitTextToSize(n,u-40),e.doc.text(h,u/2,l/2,{align:"center"}),e.addPage(),e.addPage(),e.doc.setFontSize(30),f=e.doc.splitTextToSize(e.universalPrayer,u-40),e.doc.text(f,u/2,l/2,{align:"center"}),e.addPage(),e.addPage(),e.addNonOrdinarySong(e.offertory,s),e.addPage(),e.addPage(),e.addOrdinarySong("Sanctus",y,S),e.addPage(),e.addPage(),e.addOrdinarySong("Agnus Dei",P,O),e.addPage(),e.addPage(),e.addNonOrdinarySong(e.communion,d),e.addPage(),e.addPage(),e.addNonOrdinarySong(e.sending,c),e.addPage(),e.doc.setFontSize(30),e.doc.text("Bonne soirée, et souriez, Jésus vous aime !",u/2,l/2,{align:"center"}),m="Messe du "+e.getNextWednesdayDigits(),e.doc.save(m);case 60:case"end":return t.stop()}}),t)})))()}}},z=T,w=n("2877"),F=Object(w["a"])(z,a,i,!1,null,null,null),D=F.exports;n("f9e3"),n("2dd8");r["a"].config.productionTip=!1,new r["a"]({render:function(e){return e(D)}}).$mount("#app")}});
//# sourceMappingURL=index.e047e9c0.js.map